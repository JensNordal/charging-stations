<div ng-app class="jumbotron" ng-controller="MainCtrl">
    <h1>Find Charging Stations Near {{current.fuel_stations[0].city}}</h1>
    <p class="lead">
        <div ng-init="location=' City or ZIP'">
            <form>
                <p>
                    <label for="location">Location:
                        <input type="text" name="location" ng-model="location">
                    </label>
                </p>
                <p>
                    <button class="btn btn-lg btn-primary" ng-click="refreshCurrent()" type="submit">Find a Charging Station</button>
                </p>
            </form>
            <br>
            <div ng-hide="current.total_results == null">
                <dt>Total Stations (within 5 mi.):</dt>
                <dd>{{current.total_results}}</dd>
                <br>
            </div>
            <br>
            <dl ng-repeat="station in current.fuel_stations">
                <div class="stationName" ng-hide="station.station_name === null">
                    <dd>{{station.station_name}}</dd>
                    <br>
                </div>
                <div ng-hide="station.street_address === null">
                    <dt>Address</dt>
                    <dd>{{station.street_address}}</dd>
                    <dd>{{station.city}}, {{station.state}} {{station.zip}} {{station.plus4}}</dd>
                    <br>
                </div>
                <div ng-hide="station.intersection_directions === null">
                    <dd>{{station.intersection_directions}}</dd>
                    <br>
                </div>
                <div ng-hide="station.station_phone === null">
                    <dt>Phone Number</dt>
                    <dd>{{station.station_phone}}</dd>
                    <br>
                </div>
                <div ng-hide="station.access_days_time === null">
                    <dt>Hours</dt>
                    <dd>{{station.access_days_time}}</dd>
                    <br>
                </div>
                <div ng-hide="station.groups_with_access_code === null">
                    <dt>Availability <small>(Public/Private)</small></dt>
                    <dd>{{station.groups_with_access_code}}</dd>
                    <br>
                </div>
                <div ng-hide="station.ev_network === null">
                    <dt>Network</dt>
                    <dd><a ng-href="{{station.ev_network_web}}">{{station.ev_network}}</a></dd>
                    <br>
                </div>
                <div ng-hide="station.ev_connector_types === null">
                    <dt>Connector Type</dt>
                    <dd>{{station.ev_connector_types[0]}}</dd>
                    <dd>{{station.ev_connector_types[1]}}</dd>
                    <dd>{{station.ev_connector_types[2]}}</dd>
                    <dd>{{station.ev_connector_types[3]}}</dd>
                    <dd>{{station.ev_connector_types[4]}}</dd>
                    <dd>{{station.ev_connector_types[5]}}</dd>
                    <dd>{{station.ev_connector_types[6]}}</dd>
                    <br>
                </div>
                <br>
            </dl>
        </div>
        <div>
            <p>
                <button id="AlertBtn" class="btn btn-sm btn-primary" ng-hide="current.fuel_stations[0].city == null" ng-click="saveCity(current.fuel_stations[0].city)">Save {{current.fuel_stations[0].city}}</button>
            </p>
        </div>
        <!-- !!!!! TODO: Update so 'City Saved'/'City Already Saved' refreshes for each new city search. !!!!!-->
        <div ng-messages="citySaved">
            <p class="city-saved-alert bg-success text-success" ng-message="success">
                {{current.fuel_stations[0].city}} has been saved to your list of cities.
            </p>
            <p class="city-saved-alert bg-warning text-warning" ng-message="duplicate">
                {{current.fuel_stations[0].city}} has already been saved to your list of cities.
            </p>
        </div>
</div>
<div ng-if="storage.savedCities" class="saved-cities-list">
    <h2>Saved Cities</h2>
    <ul class="saved-cities-list">
        <li ng-repeat="city in storage.savedCities">
            <a ng-href="/charging-stations/#/{{city.city}}" id="savedBtn">{{city.city}}</a>
        </li>
    </ul>
</div>
<br>

<!-- Map -->
<div id="map-container">
    <ng-map zoom="9" center="[47.70, -122.18]">
    <marker position="[47.71, -122.23]" title="hello"></marker>
    <marker position="[47.68, -122.19]" title="marker" animation="Animation.DROP"></marker>
    <marker position="[47.66, -122.15]" title="drag me" draggable="true"></marker>
    <marker position="[47.63, -122.12]" title="how" animation="Animation.BOUNCE"></marker>
    <marker position="[47.60, -122.10]" title="are"></marker>
    <marker position="[47.58, -122.07]" title="you"
      icon="https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"></marker>
    <marker position="[47.56, -122.05]" title="from"></marker>
    <marker position="[47.54, -122.03]" title="jens"></marker>
  </ng-map>
</div>
 <!-- end map -->
